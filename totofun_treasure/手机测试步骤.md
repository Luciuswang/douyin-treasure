# 手机测试步骤

## 方法一：通过USB连接测试（推荐）

### 1. 准备工作
- 确保手机已开启**开发者选项**和**USB调试**
- 用USB线连接手机到电脑
- 手机上允许USB调试授权

### 2. 检测手机连接
```bash
cd H:\WEB\douyin-treasure\totofun_treasure
flutter devices
```

应该能看到你的手机设备

### 3. 运行应用
```bash
flutter run
```

或者使用启动脚本：
```bash
.\启动应用.bat
```
选择 "4) 连接的Android设备"

---

## 方法二：构建APK安装包

### 1. 构建APK
```bash
cd H:\WEB\douyin-treasure\totofun_treasure
flutter build apk --release
```

### 2. 找到APK文件
构建完成后，APK位于：
```
H:\WEB\douyin-treasure\totofun_treasure\build\app\outputs\flutter-apk\app-release.apk
```

### 3. 安装到手机
- 将APK文件传到手机（微信、QQ、数据线等）
- 在手机上点击APK文件安装
- 如提示"未知来源"，需在设置中允许安装

---

## 当前可测试的功能

### ✅ 已实现功能
1. **地图功能**
   - 查看附近宝藏
   - 查看宝藏详情
   - GPS定位

2. **任务系统**
   - 查看任务列表
   - 查看任务详情
   - 任务筛选

3. **商家后台**
   - 商家登录
   - 创建任务
   - 查看任务数据
   - 数据统计

4. **任务验证**（部分功能）
   - GPS签到验证
   - 照片上传验证
   - 二维码扫描验证

### ⚠️ 需要配置的功能
5. **聊天功能**（需要Firebase配置）
   - 添加好友
   - 好友列表
   - 实时聊天
   - 位置分享

---

## 测试建议

### 第一次测试重点
1. **基础功能测试**
   - 应用能否正常启动
   - 地图能否正常显示
   - GPS定位是否准确
   - 界面是否流畅

2. **商家功能测试**
   - 点击右上角"商家入口"
   - 使用测试账号登录：
     - 用户名：`merchant1`
     - 密码：`password123`
   - 创建一个测试任务
   - 查看数据统计

3. **任务功能测试**
   - 查看任务列表
   - 点击任务查看详情
   - 测试筛选功能

### 已知限制
- 聊天功能需要Firebase配置后才能使用
- 照片上传功能在真机上测试效果更好
- 某些验证功能需要实际商家数据

---

## 遇到问题？

### 手机无法识别
- 确认USB调试已开启
- 尝试更换USB线或USB口
- 安装手机驱动程序

### 应用无法安装
- 检查手机是否允许安装未知来源应用
- 确保手机存储空间充足
- 尝试卸载旧版本后重新安装

### 地图不显示
- 检查手机网络连接
- 确认GPS定位权限已授予
- 尝试重启应用

---

## 下一步开发计划

1. **完成Firebase配置**（聊天功能）
2. **优化任务验证流程**
3. **添加更多社交功能**
4. **完善商家数据分析**
5. **添加用户等级系统**

